{"mappings":"AAIA,MAAMA,EAAO,CACXC,WAAYC,SAASC,cAAc,gBACnCC,WAAYF,SAASC,cAAc,YACnCE,YAAaH,SAASC,cAAc,eAGtCH,EAAKC,WAAWK,iBAAiB,UAKjC,SAAkBC,GAChBA,EAAMC,iBACNC,IACAC,EAAUC,MAAQJ,EAAMK,cAAcC,SAASC,YAAYC,MAAMC,OACjEN,EAAUO,YACVP,EAAUQ,cAAcC,MAAKC,IAC3BX,IACAY,EAAcD,EAAK,G,IAXvBpB,EAAKK,YAAYC,iBAAiB,SAelC,SAA4BC,GAC1BG,EAAUQ,cAAcC,MAAKC,GAAQC,EAAcD,I,IAdrD,MAAMV,EAAY,ICbH,MAKbQ,cACE,MAEMI,EAAM,qEAA4BC,KAAKT,wFAAwFS,KAAKC,OAC1I,OAAOC,MAAMH,GAAKH,MAAKO,GACrBA,EAAIC,SAAQR,MAAKS,IACfL,KAAKM,gBACED,EAAKR,O,CAGlBS,gBACEN,KAAKC,MAAQ,C,CAEfP,YACEM,KAAKC,KAAO,C,CAEVb,YACF,OAAOY,KAAKT,W,CAEVH,UAAMmB,GACRP,KAAKT,YAAcgB,C,CAxBrBC,cACER,KAAKT,YAAc,GACnBS,KAAKC,KAAO,C,GDoDhB,SAASH,EAAeW,GACtB,MAAMC,EANR,SAAuBD,GACrB,OAAOA,EAAME,QAAO,CAACC,EAAKC,IAAkBD,EArB9C,SAAoBC,GAClB,MAAO,yCACKA,EAAKC,sBAAsBD,EAAKE,qGAGnCF,EAAKG,4DAGLH,EAAKI,4DAGLJ,EAAKK,+DAGLL,EAAKM,2C,CAOoCC,CAAWP,IAAU,G,CAKxDQ,CAAcZ,GAC7BhC,EAAKI,WAAWyC,mBAAmB,YAAaZ,E,CAGlD,SAASxB,IACPT,EAAKI,WAAW0C,UAAY,E,CA/C9BC,QAAQC,IAAItC","sources":["src/index.js","src/js/api.js"],"sourcesContent":["import './css/styles.css';\nimport axios from 'axios';\nimport GetImages from './js/api';\n\nconst refs = {\n  searchForm: document.querySelector('#search-form'),\n  galleryRef: document.querySelector('.gallery'),\n  loadMoreBtn: document.querySelector('.load-more'),\n};\n\nrefs.searchForm.addEventListener('submit', onSearch);\nrefs.loadMoreBtn.addEventListener('click', onLoadMoreBtnClick);\n\nconst getImages = new GetImages();\nconsole.log(getImages);\nfunction onSearch(event) {\n  event.preventDefault();\n  clearGallery(); \n  getImages.query = event.currentTarget.elements.searchQuery.value.trim();\n  getImages.resetPage();\n  getImages.fetchImages().then(hits => {\n    clearGallery();\n    renderContent(hits)\n  });\n}\n\nfunction onLoadMoreBtnClick(event) {\n  getImages.fetchImages().then(hits => renderContent(hits));\n}\n\nfunction createCard(item) {\n  return `<div class=\"photo-card\">\n  <img src=\"${item.webformatURL}\" alt=\"${item.tags}\" loading=\"lazy\" height=\"200\"/>\n  <div class=\"info\">\n    <p class=\"info-item\">   \n      <b>${item.likes}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>${item.views}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>${item.comments}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>${item.downloads}</b>\n    </p>\n  </div>\n</div>`;\n};\n  \nfunction createGallery(array) {\n  return array.reduce((acc, item) => { return acc + createCard(item); }, \"\" )\n;\n}\n  \nfunction renderContent (array) {\n  const result = createGallery(array);\n  refs.galleryRef.insertAdjacentHTML('beforeend', result);\n};\n\nfunction clearGallery() {\n  refs.galleryRef.innerHTML = '';\n};\n","export default class GetImages {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n  fetchImages() {\n    const BASE_URL = 'https://pixabay.com/api/';\n    const KEY = '34439095-285021b504ed55081c1ba79b6';\n    const URL = `${BASE_URL}?key=${KEY}&q=${this.searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&per_page=40&page=${this.page}`;\n    return fetch(URL).then(res =>\n      res.json()).then(data => {\n        this.incrementPage();\n        return data.hits;\n      });\n  }\n  incrementPage() {\n    this.page += 1;\n  }\n  resetPage() {\n    this.page = 1;\n  }\n  get query() {\n    return this.searchQuery;\n  }\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n"],"names":["$1f0dc3b9307be026$var$refs","searchForm","document","querySelector","galleryRef","loadMoreBtn","addEventListener","event","preventDefault","$1f0dc3b9307be026$var$clearGallery","$1f0dc3b9307be026$var$getImages","query","currentTarget","elements","searchQuery","value","trim","resetPage","fetchImages","then","hits","$1f0dc3b9307be026$var$renderContent","URL","this","page","fetch","res","json","data","incrementPage","newQuery","constructor","array","result","reduce","acc","item","webformatURL","tags","likes","views","comments","downloads","$1f0dc3b9307be026$var$createCard","$1f0dc3b9307be026$var$createGallery","insertAdjacentHTML","innerHTML","console","log"],"version":3,"file":"index.1b02c6be.js.map"}